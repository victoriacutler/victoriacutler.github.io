{
  "hash": "49d67bc411ef42c02fe048673887aa78",
  "result": {
    "markdown": "---\ntitle: \"Is Rooftop Solar Equitable?\"\ndescription: \"test\"\nauthor:\n  - name: Victoria Cutler\n    url: https://victoriacutler.github.io # can also add orchid id under here\n    affiliation: MEDS \n    affiliation-url: https://ucsb-meds.github.io\ndate: 2022-12-08\ncategories: [ROOFTOP SOLAR, EQUITY, STATISTICS, R]\ncitation:\n  url: https://victoriacutler.github.io/posts/2022-12-22-solar-equity/\nbibliography: references.bib\ndraft: false # \"true\" will mean this is a draft post so it wont show up on my site\nformat:\n  html:\n    code-fold: true\n    code-summary: \"code dropdown\"\n---\n\n\n# Background\n\nWhat you may already know of rooftop solar, is that it is a clean and often financially savvy way to supplement energy consumption. In California, and many other states, for example, customers can effectively \"sell\" back the electricity they generate at the same rate they would buy it at. Put differently, utilities buy electricity at the rate that they sell it at, even while cheaper wholesale rates for solar are on the market. Who \"pays\" for this more expensive electricity that utilities are buying? The short answer is that customers without rooftop solar are paying. On November 10th 2022, the California Public Utilities Commission (CPUC) put forth a proposal that disincentivizes solar adoption and production: rolling back compensation and decreasing the maximum allowable install capacity (solar panel wattage). In the previous proposal in December 2021, the CPUC suggested tacking on a monthly fee to the bills of homes with rooftop solar, but this clause has since been walked back [@penn2022].\n\nStakeholders across the energy industry all feel very differently on matter. On the one hand: we want to incentivize clean and decentralized energy generation. But on the other hand: we want to ensure that these cost shifts are not burdening those who lack access to solar, primarily low income households.[^1] Essentially, the question boils down to: how much should homeowners be paid for rooftop solar enegy exports and how much should rooftop solar users pay for grid infrastructure?\n\n[^1]: Low income households often lack access to solar since (1) financing options are often needed to cover the high upfront cost of solar (2) if English isn't a first language, or many jobs ar , there liisn't enough time to figure out\n\nThe current proposal is out for public comment through XX until the CPUC's five members take the proposal to a vote.r\n\n# Objective\n\nIn this post, I explore, if income is a statistically significant predictor in rooftop solar adoption in California. To quantify how stark this contrast is, I also look to see if there is a significant difference in income relative to solar adoption.\n\n# Methods\n\nSince individual household data regarding income and rooftop solar is unavailable for public use, I use:\n\n1.  Income data on a census tract basis found \\[here\\](https://www.ffiec.gov/censusapp.htm) from the Federal Financial Institutions Examination Council (FFIEC) which maintains income-related census data available for download;\n2.  Rooftop solar data found \\[here\\](https://sunroof.withgoogle.com/data-explorer/featured/1/oklahoma-city) from Google Project Sunroof which uses Google overhead imagery, weather station data, and machine learning algorithms to estimate rooftop solar potential of US buildings down to the census tract level; and\n3.  California census tract spatial data found \\[here\\] (https://catalog.data.gov/dataset/tiger-line-shapefile-2019-state-california-current-census-tract-state-based) for mapping and visualizing at the census tract level.\n\nAfter reading in the data, I cleaned the data, selected only the columns of interest, and created additional columns needed for joining of data and performing analyses. Most notably, I created a variable called `pct_qual_with_solar`. This variable ranges from 0% to 100% and represents the ratio of number of buildings with solar with respect to the number of buildings deemed as \"qualified\" for rooftop solar[^2]. As an example, if census tract A has 10 buildings qualified for rooftop solar, and 5 buildings in census tract A already have rooftop solar, this census tract would have a `pct_qual_with_solar` of 50%. I used this variable as a proxy for rooftop solar adoption, since I felt that purely looking at the ratio of of number of buildings with solar with respect to the number of buildings total could lead to bias if income is correlated with locations with census tracts of low rooftop solar qualifications. I refer to this variable as \"solar saturation\".\n\n[^2]: Per Google Project Sunroof criteria which considers amount of sunlight and roof space.\n\n\n::: {.cell}\n\n:::\n\n\nI first looked at the distribution of the solar saturation for the whole US and California. We see right skew which hints that these data may be a good candidate for log-normalization. However, after taking the log of my data and performing an Ordinary Least Squares (OSL) regression on the log-normalized data, I noticed that the assumptions for OLS were not better met by much. Additionally, due to the large amount of data we have at 0% solar saturation, to perform a log-normalized OLS regression would require either data manipulation, or removing much of the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Exploration of Distribution/Normality of Solar Data\n\n  # raw solar data distribution for California\nggplot(data = cleandata, aes(x = pct_qual_with_solar)) +\n  geom_histogram() # essentially no left tail, large right skew, good candidate for a log transformation to get data normal\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n# Results\n\nRegression: I chose to use median census tract income over income status because it explained the variation better.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_ca <- lm(pct_qual_with_solar ~ tract_med_family_income + yearly_sunlight_kwh_median, data = cleandata)\nsummary(mod_ca)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = pct_qual_with_solar ~ tract_med_family_income + \n    yearly_sunlight_kwh_median, data = cleandata)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-18.6356  -1.5504  -0.5476   1.0429  27.0392 \n\nCoefficients:\n                             Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                -6.757e-01  8.637e-02  -7.823 6.00e-15 ***\ntract_med_family_income     3.842e-05  7.547e-07  50.909  < 2e-16 ***\nyearly_sunlight_kwh_median  8.022e-06  1.292e-06   6.211 5.59e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.943 on 6376 degrees of freedom\nMultiple R-squared:  0.2927,\tAdjusted R-squared:  0.2925 \nF-statistic:  1319 on 2 and 6376 DF,  p-value: < 2.2e-16\n```\n:::\n\n```{.r .cell-code}\nmod_ca  %>%\n  summary() %>% \n  xtable() %>% \n  kable()\n```\n\n::: {.cell-output-display}\n|                           |   Estimate| Std. Error|   t value| Pr(>&#124;t&#124;)|\n|:--------------------------|----------:|----------:|---------:|------------------:|\n|(Intercept)                | -0.6756526|  0.0863672| -7.823025|                  0|\n|tract_med_family_income    |  0.0000384|  0.0000008| 50.908708|                  0|\n|yearly_sunlight_kwh_median |  0.0000080|  0.0000013|  6.211287|                  0|\n:::\n\n```{.r .cell-code}\nres <- resid(mod_ca)\n\nggplot(data = mod_ca, aes(sample = res)) +\n  geom_qq() +\n  geom_qq_line()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n-   talk more about the facts of the results\n\nHypothesis testing:\n\n\n::: {.cell}\n\n:::\n\n\nMap of California:\n\n# Discussion\n\n-   talk more about the implications of the results\n\n-   dd for further study\n\n-   add biases etc like how i have non residential buildings in here and if those are correlated with something\n\n-   the fact that tract income \\> income class suggests that level of income matters more since the price of solar likely doesn't vary much census tract to census tract\n\n# Conclusion\n\nFurthermore, I explore this relationship in California, where the California Public Utilities Commission is likely to lower financial incentives to rooftop solar adoption due, in large part, to equity concerns.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}